(()=>{"use strict";var e,t={910:(e,t,l)=>{const s=window.wp.blocks,a=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,c=window.wp.hooks,o=window.wp.serverSideRender;var r=l.n(o);const d=window.wp.data,p=window.ReactJSXRuntime;function h({value:e,onChange:t}){const l=(0,d.useSelect)(e=>e("core/block-editor").getSettings().imageSizes||[],[]).map(e=>({label:e.name,value:e.slug}));return l.unshift({label:"None",value:"false"}),(0,p.jsx)(n.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Image Size","cc-child-pages"),value:e,options:l,onChange:t})}const g=window.wp.element,u=window.wp.apiFetch;var _=l.n(u);const x=window.wp.primitives,m=(0,p.jsx)(x.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(x.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"})}),b=(0,p.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(x.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),C=(0,p.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(x.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),f=({selectedPostId:e,onChange:t,multiple:l=!1,selectedIds:s=[],onChangeMultiple:i,postType:c=null,label:o=(0,a.__)("Select a page or post","cc-child-pages"),minChars:r=2,debounceMs:d=200})=>{const[h,u]=(0,g.useState)(""),[x,f]=(0,g.useState)([]),[y,j]=(0,g.useState)({}),[v,w]=(0,g.useState)(!1),S=(0,g.useRef)(null),k=(0,g.useRef)(0),T=(0,g.useMemo)(()=>{let e;const t=(t,l)=>{clearTimeout(e),e=setTimeout(()=>l(t),d)};return t.cancel=()=>clearTimeout(e),t},[d]),M=async()=>{if(S.current)return S.current;const e=await _()({path:"/wp/v2/types"});return S.current=e,e},P=e=>{const t=S.current;return t&&t[e]?.labels?.singular_name?t[e].labels.singular_name:e},B=e=>e.map(e=>({
// Translators: %1$s is the post title, %2$s is the post type (e.g., Page, Post).
label:(0,a.sprintf)((0,a.__)("%1$s (%2$s)","cc-child-pages"),e.title,P(e.subtype)),value:String(e.id)}));(0,g.useEffect)(()=>{let e=!0;return T(h,async t=>{const l=++k.current;if(!t||t.length<r)e&&(f([]),w(!1));else{e&&w(!0);try{const s=await M(),a="/wp/v2/search",i=new URLSearchParams({search:t,per_page:10,type:"post"});c?i.append("subtype[]",c):Object.keys(s).filter(e=>s[e].viewable&&"attachment"!==e).forEach(e=>i.append("subtype[]",e));const n=await _()({path:`${a}?${i.toString()}`});if(!e||l!==k.current)return;const o=B(n);f(o),j(e=>{const t={...e};for(const e of o){const l=parseInt(e.value,10);t[l]||(t[l]=e.label)}return t})}catch{if(!e||l!==k.current)return;f([])}finally{e&&l===k.current&&w(!1)}}}),()=>{e=!1,T.cancel()}},[h,c,r,T]),(0,g.useEffect)(()=>{let t=!0;const a=async e=>{if(e&&e.length)try{w(!0);const l=await M(),s="/wp/v2/search",a=new URLSearchParams({per_page:e.length.toString(),type:"post"});e.forEach(e=>a.append("include[]",String(e))),c?a.append("subtype[]",c):Object.keys(l).filter(e=>l[e].viewable&&"attachment"!==e).forEach(e=>a.append("subtype[]",e));const i=await _()({path:`${s}?${a.toString()}`});if(!t)return;const n=B(i);f(e=>{const t=new Set(n.map(e=>e.value)),l=e.filter(e=>!t.has(e.value));return[...n,...l]}),j(e=>{const t={...e};for(const e of n)t[parseInt(e.value,10)]=e.label;return t})}catch{}finally{t&&w(!1)}};return l?a(s):e&&a([e]),()=>{t=!1}},[l,e,s,c]);const N=(e,t)=>{if(!l)return;if(e===t||e<0||t<0)return;const a=[...s],[n]=a.splice(e,1);a.splice(t,0,n),i?.(a)},H=v&&(l||!e)&&h.length>=r;return(0,p.jsxs)("div",{children:[(0,p.jsx)(n.ComboboxControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:o,value:l?"":e?String(e):"",options:x,onFilterValueChange:e=>{u(e),e||w(!1)},onChange:e=>{if(!e)return void(l?i?.(s):t?.(void 0));const a=parseInt(e,10);if(l){const e=Array.from(new Set([...s,a]));i?.(e),u("")}else t?.(a),u(""),f([]),w(!1),k.current++},help:H?(0,p.jsx)(n.Spinner,{}):"",allowReset:!0}),l&&s?.length>0&&(0,p.jsxs)("div",{style:{marginTop:8},children:[(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[(0,p.jsx)("div",{style:{opacity:.75,fontSize:"12px"},children:(0,a.__)("Selected (drag order):","cc-child-pages")}),(0,p.jsx)(n.Button,{variant:"secondary",onClick:()=>{const e=[...s].sort((e,t)=>{const l=(y[e]||"").toLowerCase(),s=(y[t]||"").toLowerCase();return l<s?-1:l>s?1:0});i?.(e)},icon:m,"aria-label":(0,a.__)("Sort A-Z","cc-child-pages"),title:(0,a.__)("Sort A-Z","cc-child-pages"),children:(0,a.__)("Sort A-Z","cc-child-pages")})]}),(0,p.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:s.map((e,t)=>{const l=y[e]||(0,a.sprintf)((0,a.__)("#%s","cc-child-pages"),e),c=0===t,o=t===s.length-1;return(0,p.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"2px 8px",border:"1px solid #ddd",borderRadius:12,background:"#fff"},children:[(0,p.jsxs)(n.ButtonGroup,{children:[(0,p.jsx)(n.Tooltip,{text:(0,a.__)("Move left (Shift: to start)","cc-child-pages"),children:(0,p.jsx)(n.Button,{icon:b,onClick:e=>((e,t)=>{if(t?.shiftKey)return N(e,0);N(e,Math.max(0,e-1))})(t,e),"aria-label":(0,a.sprintf)((0,a.__)("Move %s left","cc-child-pages"),l),disabled:c,variant:"secondary"})}),(0,p.jsx)(n.Tooltip,{text:(0,a.__)("Move right (Shift: to end)","cc-child-pages"),children:(0,p.jsx)(n.Button,{icon:C,onClick:e=>((e,t)=>{if(t?.shiftKey)return N(e,s.length-1);N(e,Math.min(s.length-1,e+1))})(t,e),"aria-label":(0,a.sprintf)((0,a.__)("Move %s right","cc-child-pages"),l),disabled:o,variant:"secondary"})})]}),(0,p.jsx)("span",{style:{whiteSpace:"nowrap"},children:l}),(0,p.jsx)(n.Button,{onClick:()=>(e=>{const t=s.filter(t=>t!==e);i?.(t)})(e),variant:"link",isDestructive:!0
/* translators: %s: the item label, e.g. "About (Page)". */,"aria-label":(0,a.sprintf)((0,a.__)("Remove %s","cc-child-pages"),l),title:(0,a.sprintf)((0,a.__)("Remove %s","cc-child-pages"),l),children:"×"})]},e)})}),(0,p.jsx)("div",{style:{marginTop:8},children:(0,p.jsx)(n.Button,{variant:"secondary",onClick:()=>i?.([]),children:(0,a.__)("Clear selection","cc-child-pages")})})]})]})},y=["","_self","_blank","_parent","_top"];function j({value:e,onChange:t}){const l=!!e&&!y.includes(e),[s,i]=(0,g.useState)(l),c=(0,g.useMemo)(()=>[{label:(0,a.__)("Auto (theme/default)","cc-child-pages"),value:""},{label:(0,a.__)("Same tab (_self)","cc-child-pages"),value:"_self"},{label:(0,a.__)("New tab (_blank)","cc-child-pages"),value:"_blank"},{label:(0,a.__)("Parent frame (_parent)","cc-child-pages"),value:"_parent"},{label:(0,a.__)("Top frame (_top)","cc-child-pages"),value:"_top"}],[]),o="string"==typeof e?e:"";return(0,p.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,p.jsx)(n.ToggleControl,{label:(0,a.__)("Use a custom target (advanced)","cc-child-pages"),checked:s,onChange:e=>{i(e),e||y.includes(o)||t("")},__nextHasNoMarginBottom:!0}),!s&&(0,p.jsx)(n.SelectControl,{label:(0,a.__)("Link target","cc-child-pages"),value:y.includes(o)?o:"",onChange:e=>t(null!=e?e:""),options:c,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),s&&(0,p.jsx)(n.TextControl,{label:(0,a.__)("Custom target name","cc-child-pages"),placeholder:(0,a.__)("e.g. sidebar-frame","cc-child-pages"),value:y.includes(o)?"":o,onChange:e=>t((e||"").trim()),help:(0,a.__)('Use _self, _blank, _parent, _top or a named context (letters, numbers, "-", "_", ":").',"cc-child-pages"),__next40pxDefaultSize:!0})]})}function v({value:e="",onChange:t,label:l=(0,a.__)("Post status","cc-child-pages"),help:s,allowAny:i=!1,include:c,exclude:o=["auto-draft","inherit","trash"],disabled:r=!1}){const[d,h]=(0,g.useState)(!1),[u,x]=(0,g.useState)(""),[m,b]=(0,g.useState)([]),C=(0,g.useRef)(0),f=e=>e&&e.length?e.join(","):"",y=async()=>{const e=++C.current;h(!0),x("");try{const t=await _()({path:"/wp/v2/statuses?context=edit"}),l=Object.entries(t||{}).map(([e,t])=>({slug:e,name:t?.name||e}));if(C.current!==e)return;b(l)}catch{if(C.current!==e)return;x((0,a.__)("Couldn't load post statuses. You may need permission to view them.","cc-child-pages")),b([])}finally{C.current===e&&h(!1)}};(0,g.useEffect)(()=>{y()},[]);const j=(0,g.useMemo)(()=>{let e=m;if(Array.isArray(c)&&c.length){const t=new Set(c);e=e.filter(e=>t.has(e.slug))}else if(Array.isArray(o)&&o.length){const t=new Set(o);e=e.filter(e=>!t.has(e.slug))}return e=[...e].sort((e,t)=>e.name.toLowerCase().localeCompare(t.name.toLowerCase())),i&&e.unshift({slug:"any",name:(0,a.__)("Any (all public statuses)","cc-child-pages")}),e},[m,c,o,i]),v=(0,g.useMemo)(()=>{const t=new Set((e=>{if(!e)return[];const t=String(e).split(",").map(e=>e.trim()).filter(Boolean);return Array.from(new Set(t))})(e)),l=j.map(e=>e.slug).filter(e=>t.has(e));return l.includes("any")?["any"]:l},[e,j]),w=null!=s?s:(0,a.__)('Choose one or more statuses. Selecting "Any" will clear other choices.',"cc-child-pages");return(0,p.jsxs)("div",{children:[u?(0,p.jsx)(n.Notice,{status:"warning",isDismissible:!1,style:{marginBottom:8},children:u}):null,(0,p.jsx)(n.BaseControl,{__nextHasNoMarginBottom:!0,id:"cc-post-status-selector",label:(0,p.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[l,d&&(0,p.jsx)(n.Spinner,{})]}),help:w,children:(0,p.jsx)(n.Card,{size:"small",children:(0,p.jsxs)(n.CardBody,{children:[(0,p.jsxs)(n.Flex,{gap:4,wrap:!0,align:"center",style:{marginBottom:8},children:[(0,p.jsx)(n.FlexItem,{children:(0,p.jsx)(n.Button,{variant:"secondary",onClick:()=>{const e=j.map(e=>e.slug).filter(e=>"any"!==e);t?.(f(e))},disabled:r||d||!j.length,children:(0,a.__)("Select all","cc-child-pages")})}),(0,p.jsx)(n.FlexItem,{children:(0,p.jsx)(n.Button,{variant:"tertiary",onClick:()=>t?.(""),disabled:r||d,children:(0,a.__)("Clear","cc-child-pages")})}),(0,p.jsx)(n.FlexItem,{children:(0,p.jsx)(n.Button,{variant:"tertiary",onClick:y,disabled:r||d,children:(0,a.__)("Refresh","cc-child-pages")})})]}),(0,p.jsx)("div",{role:"group","aria-labelledby":"cc-post-status-selector",children:(0,p.jsxs)("div",{className:"cc-post-status-selector__grid",style:{display:"grid",gap:6},children:[j.map(e=>(0,p.jsx)(n.CheckboxControl,{__nextHasNoMarginBottom:!0,label:e.name,checked:v.includes(e.slug),onChange:l=>((e,l)=>{let s=new Set(v);"any"===e?l?s=new Set(["any"]):s.delete("any"):(s.delete("any"),l?s.add(e):s.delete(e)),t?.(f(Array.from(s)))})(e.slug,l),disabled:r||d},e.slug)),!d&&!j.length&&(0,p.jsx)("div",{style:{opacity:.7},children:(0,a.__)("No statuses available.","cc-child-pages")})]})})]})})})]})}function w({enabled:e=!1,fieldName:t="",onChange:l,toggleLabel:s=(0,a.__)("Use custom field","cc-child-pages"),toggleHelp:i,textLabel:c=(0,a.__)("Custom field key","cc-child-pages"),textHelp:o=(0,a.__)('Enter the meta key (e.g. "custom_excerpt"). If present on a post, its value will override the default.',"cc-child-pages"),placeholder:r="custom_meta_key",disabled:d=!1,requiredWhenEnabled:h=!1}){const u=(0,g.useMemo)(()=>(t||"").trim(),[t]),_=e&&h&&!u;return(0,p.jsx)(n.Card,{style:{marginTop:8},children:(0,p.jsxs)(n.CardBody,{children:[(0,p.jsx)(n.BaseControl,{__nextHasNoMarginBottom:!0,label:s,help:i,children:(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,checked:!!e,onChange:e=>l?.({enabled:e,fieldName:u}),disabled:d})}),e&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:c,value:t,onChange:e=>l?.({enabled:!0,fieldName:(e||"").trim()}),placeholder:r,help:o,disabled:d}),_&&(0,p.jsx)(n.Notice,{status:"warning",isDismissible:!1,style:{marginTop:8},children:(0,a.__)("Please enter a custom field key or turn this option off.","cc-child-pages")})]})]})})}const S=n.NumberControl||n.__experimentalNumberControl,{Slot:k}=(0,n.createSlotFill)("CCChildPages.Design"),{Slot:T}=(0,n.createSlotFill)("CCChildPages.Skins"),{Slot:M}=(0,n.createSlotFill)("CCChildPages.Image"),{Slot:P}=(0,n.createSlotFill)("CCChildPages.Title"),{Slot:B}=(0,n.createSlotFill)("CCChildPages.Excerpt"),{Slot:N}=(0,n.createSlotFill)("CCChildPages.More"),{Slot:H}=(0,n.createSlotFill)("CCChildPages.Meta"),{Slot:L}=(0,n.createSlotFill)("CCChildPages.Link"),{Slot:D}=(0,n.createSlotFill)("CCChildPages.Query"),{Slot:A}=(0,n.createSlotFill)("CCChildPages.Pagination"),I=window.CCChildPagesEditorData&&!!window.CCChildPagesEditorData.proPresent||!1,F=window.CCChildPagesEditorData&&window.CCChildPagesEditorData.docsUrl||"#",E=window.CCChildPagesEditorData&&window.CCChildPagesEditorData.proUrl||"#",O=JSON.parse('{"UU":"caterhamcomputing/cc-child-pages"}');(0,s.registerBlockType)(O.UU,{edit:function(e){const{attributes:t,setAttributes:l}=e,s=t.cols?parseInt(t.cols,10):3,o=t.depth?parseInt(t.depth,10):1,d=t.postsPerPage?parseInt(t.postsPerPage,10):9,g=t.limit?parseInt(t.limit,10):3,u=JSON.stringify({id:t.id||"current",selectSpecificPages:t.selectSpecificPages||!1,list:t.list||"false",depth:t.depth||1,offset:t.offset||0,pageIDs:t.pageIDs||"",usePagination:t.usePagination||!1,page:t.page||"",words:t.words||55,postsPerPage:t.postsPerPage||"",postStatus:t.postStatus||"",useLimit:t.useLimit||!1,limit:t.limit||"",ignoreStickyPosts:t.ignoreStickyPosts||!1,exclude:t.exclude||"",orderby:t.orderby||"menu_order",order:t.order||"ASC",showTitle:t.showTitle||!0,linkTitles:t.linkTitles||!1,useCustomTitleClass:t.useCustomTitleClass||!1,customTitleClass:t.customTitleClass||"",showMore:t.showMore||!0,more:t.more||"",thumbs:t.thumbs||"false",linkThumbs:t.linkThumbs||!1,showExcerpt:t.showExcerpt||!0,showAuthor:t.showAuthor||!0,showDateCreated:t.showDateCreated||!0,showDateModified:t.showDateModified||!0,siblings:t.siblings||!1,showCurrentPage:t.showCurrentPage||!1,useCCSkin:t.useCCSkin||!0,skin:t.skin||"",itemClass:t.itemClass||"",subpageTitle:t.subpageTitle||"",useLegacyCSS:t.useLegacyCSS||!1}),_=()=>{const e=[{value:"simple",label:(0,a.__)("Simple","cc-child-pages")},{value:"red",label:(0,a.__)("Red","cc-child-pages")},{value:"green",label:(0,a.__)("Green","cc-child-pages")},{value:"blue",label:(0,a.__)("Blue","cc-child-pages")},{value:"sleek",label:(0,a.__)("Sleek","cc-child-pages")},{value:"bold",label:(0,a.__)("Bold","cc-child-pages")}],t=window.CCChildPagesEditorData&&window.CCChildPagesEditorData.skins||null;let l;l=t&&"object"==typeof t?Object.entries(t).map(([e,t])=>({value:e,label:String(t)})):e,l=(0,c.applyFilters)("ccChildPages.skins",l);const s=new Set;return l=l.filter(e=>!(!e||!e.value||s.has(e.value)||(s.add(e.value),0))),l};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.InspectorControls,{children:(0,p.jsx)("div",{className:"cccp-inspector",children:(0,p.jsx)(n.TabPanel,{className:"cccp-inspector-tabs",activeClass:"is-active",initialTabName:t.uiTab||"design",onSelect:e=>l({uiTab:e}),tabs:[{name:"design",title:(0,a.__)("Design","cc-child-pages")},{name:"query",title:(0,a.__)("Query","cc-child-pages")}],children:c=>{var r,u,x;return"design"===c.name?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Design","cc-child-pages"),initialOpen:!0,children:[!I&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.Notice,{status:"info",isDismissible:!1,children:[(0,p.jsxs)("p",{style:{marginTop:0},children:[(0,p.jsx)("strong",{children:(0,a.__)("CC Child Pages Pro","cc-child-pages")})," — ",(0,a.__)("Get advanced layouts, extra skins, and priority support.","cc-child-pages")]}),(0,p.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,p.jsx)(n.Button,{variant:"primary",href:E,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"11px",padding:"1px 10px",borderRadius:"9999px",lineHeight:"1.6",height:"auto"},children:(0,a.__)("Learn more","cc-child-pages")}),(0,p.jsx)(n.Button,{variant:"secondary",href:F,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"11px",padding:"1px 10px",borderRadius:"9999px",lineHeight:"1.6",height:"auto"},children:(0,a.__)("Documentation","cc-child-pages")})]})]}),(0,p.jsx)("hr",{style:{border:"none",borderBottom:"1px solid #ddd",margin:"10px 0 12px"}})]}),(0,p.jsx)(n.RadioControl,{label:(0,a.__)("Mode","cc-child-pages"),selected:t.list||"false",options:[{label:(0,a.__)("Cards","cc-child-pages"),value:"false"},{label:(0,a.__)("List","cc-child-pages"),value:"true"}],onChange:e=>l({list:e}),className:"cccp-radio-inline"}),(0,p.jsx)(n.RangeControl,{label:(0,a.__)("Columns","cc-child-pages"),help:(0,a.__)("1–12. Note: current frontend CSS supports up to 4 columns.","cc-child-pages"),value:s,onChange:e=>l({cols:String(e)}),min:1,max:6,step:1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,p.jsx)(k,{bubblesVirtually:!0}),(0,p.jsx)(n.ToggleControl,{label:(0,a.__)("Use legacy CSS","cc-child-pages"),help:(0,a.__)("Switch to old CSS for backwards compatibility (only recommened if you are having major layout issues). Newer skins will not work when this is enabled.","cc-child-pages"),__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({useLegacyCSS:t})},checked:e.attributes.useLegacyCSS})]}),"true"!==t.list&&(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Skins","cc-child-pages"),initialOpen:!1,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({useCCSkin:t})},checked:e.attributes.useCCSkin}),(0,p.jsx)("span",{children:(0,a.__)("Use skin","cc-child-pages")})]}),t.useCCSkin&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Skin","cc-child-pages"),value:t.skin,onChange:e=>l({skin:e}),options:_()}),(0,p.jsx)(T,{bubblesVirtually:!0})]}),!t.useCCSkin&&(0,p.jsx)(n.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Item class(es)","cc-child-pages"),help:(0,a.__)("Optional CSS class names applied to the CC Child Pages wrapper.","cc-child-pages"),value:t.itemClass||"",onChange:e=>l({itemClass:(e||"").trim()})})]}),"true"!==t.list&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Image","cc-child-pages"),initialOpen:!1,children:[(0,p.jsx)(h,{value:t.thumbs,onChange:e=>l({thumbs:e})}),"false"!==t.thumbs&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({linkThumbs:t})},checked:e.attributes.linkThumbs}),(0,p.jsx)("span",{children:(0,a.__)("Link image to post","cc-child-pages")})]}),(0,p.jsx)(w,{enabled:t.useCustomThumbs,fieldName:t.customThumbsField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomThumbs:e,customThumbsField:t}),toggleLabel:(0,a.__)("Use custom thumbnail URL","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the thumbnail (when present).","cc-child-pages"),textLabel:(0,a.__)("Thumbnail field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for thumbnail URL override (e.g. "custom_link_target").',"cc-child-pages"),requiredWhenEnabled:!0})]}),(0,p.jsx)(M,{bubblesVirtually:!0})]}),(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Title","cc-child-pages"),initialOpen:!1,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showTitle:t})},checked:e.attributes.showTitle}),(0,p.jsx)("span",{children:(0,a.__)("Show title","cc-child-pages")})]}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({linkTitles:t})},checked:e.attributes.linkTitles}),(0,p.jsx)("span",{children:(0,a.__)("Link title to post","cc-child-pages")})]}),t.linkTitles&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({useCustomTitleClass:t})},checked:e.attributes.useCustomTitleClass}),(0,p.jsx)("span",{children:(0,a.__)("Use custom CSS class for linked titles","cc-child-pages")})]}),t.useCustomTitleClass&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(n.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Linked title class(es)","cc-child-pages"),help:(0,a.__)("Optional CSS class names applied to linked title.","cc-child-pages"),value:t.customTitleClass||"",onChange:e=>l({customTitleClass:(e||"").trim()})})}),(0,p.jsx)(w,{enabled:t.useCustomTitle,fieldName:t.customTitleField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomTitle:e,customTitleField:t}),toggleLabel:(0,a.__)("Use custom title","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the title (when present).","cc-child-pages"),textLabel:(0,a.__)("Title field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for title override (e.g. "custom_title").',"cc-child-pages"),requiredWhenEnabled:!0})]}),(0,p.jsx)(P,{bubblesVirtually:!0})]}),(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Excerpt","cc-child-pages"),initialOpen:!1,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showExcerpt:t})},checked:e.attributes.showExcerpt}),(0,p.jsx)("span",{children:(0,a.__)("Show excerpt","cc-child-pages")})]}),t.showExcerpt&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showPageContent:t})},checked:e.attributes.showPageContent}),(0,p.jsx)("span",{children:(0,a.__)("Use full post/page content","cc-child-pages")})]}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({truncateExcerpt:t})},checked:e.attributes.truncateExcerpt}),(0,p.jsx)("span",{children:(0,a.__)("Truncate excerpt","cc-child-pages")})]}),t.truncateExcerpt&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S,{__next40pxDefaultSize:!0,label:(0,a.__)("Word count","cc-child-pages"),help:(0,a.__)("Word count for excerpt.","cc-child-pages"),value:null!==(x=t.words)&&void 0!==x?x:void 0,onChange:e=>{""!==e&&null!=e?/^-?\d+$/.test(String(e))&&l({words:parseInt(e,10)}):l({words:void 0})},step:1,min:1}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showWPMore:t})},checked:e.attributes.showWPMore}),(0,p.jsx)("span",{children:(0,a.__)("Show WordPress more link","cc-child-pages")})]})]}),(0,p.jsx)(w,{enabled:t.useCustomExcerpt,fieldName:t.customExcerptField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomExcerpt:e,customExcerptField:t}),toggleLabel:(0,a.__)("Use custom excerpt","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the excerpt (when present).","cc-child-pages"),textLabel:(0,a.__)("Excerpt field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for excerpt override (e.g. "custom_excerpt").',"cc-child-pages"),requiredWhenEnabled:!0})]}),(0,p.jsx)(B,{bubblesVirtually:!0})]}),(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Read more","cc-child-pages"),initialOpen:!1,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showMore:t})},checked:e.attributes.showMore}),(0,p.jsx)("span",{children:(0,a.__)("Show more","cc-child-pages")})]}),t.showMore&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Read more text","cc-child-pages"),help:(0,a.__)('Optional custom text to replace the "Read more..." message.',"cc-child-pages"),value:t.more||"",onChange:e=>l({more:e||""})}),(0,p.jsx)(w,{enabled:t.useCustomMore,fieldName:t.customMoreField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomMore:e,customMoreField:t}),toggleLabel:(0,a.__)("Use custom read more text","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the read more (when present).","cc-child-pages"),textLabel:(0,a.__)("More field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for read more text override (e.g. "custom_excerpt").',"cc-child-pages"),requiredWhenEnabled:!0})]}),(0,p.jsx)(N,{bubblesVirtually:!0})]}),(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Meta","cc-child-pages"),initialOpen:!1,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showAuthor:t})},checked:e.attributes.showAuthor}),(0,p.jsx)("span",{children:(0,a.__)("Show author","cc-child-pages")})]}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showDateCreated:t})},checked:e.attributes.showDateCreated}),(0,p.jsx)("span",{children:(0,a.__)("Show date created","cc-child-pages")})]}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showDateModified:t})},checked:e.attributes.showDateModified}),(0,p.jsx)("span",{children:(0,a.__)("Show date modified","cc-child-pages")})]}),(0,p.jsx)(H,{bubblesVirtually:!0})]})]}),"true"!==t.list&&(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Link","cc-child-pages"),initialOpen:!1,children:[(0,p.jsx)(i.URLInput,{label:(0,a.__)("Link","cc-child-pages"),value:t.link||"",onChange:e=>l({link:e}),placeholder:"https://example.com",help:(0,a.__)("If specified, will override the link for ALL cards.","cc-child-pages")}),(0,p.jsx)(j,{value:t.linkTarget||"",onChange:e=>l({linkTarget:e})}),(0,p.jsx)(w,{enabled:t.useCustomLink,fieldName:t.customLinkField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomLink:e,customLinkField:t}),toggleLabel:(0,a.__)("Use custom link","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the link (when present).","cc-child-pages"),textLabel:(0,a.__)("Link field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for link override (e.g. "custom_link").',"cc-child-pages"),requiredWhenEnabled:!0}),(0,p.jsx)(w,{enabled:t.useCustomLinkTarget,fieldName:t.customLinkTargetField||"",onChange:({enabled:e,fieldName:t})=>l({useCustomLinkTarget:e,customLinkTargetField:t}),toggleLabel:(0,a.__)("Use custom link target","cc-child-pages"),toggleHelp:(0,a.__)("If enabled, the value from the given meta key will replace the link target (when present).","cc-child-pages"),textLabel:(0,a.__)("Link target field key","cc-child-pages"),textHelp:(0,a.__)('Meta key used for link target override (e.g. "custom_link_target").',"cc-child-pages"),requiredWhenEnabled:!0}),(0,p.jsx)(L,{bubblesVirtually:!0})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Query","cc-child-pages"),initialOpen:!0,children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({siblings:t})},checked:e.attributes.siblings}),(0,p.jsx)("span",{children:(0,a.__)("Show page siblings","cc-child-pages")})]}),t.siblings&&(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({showCurrentPage:t})},checked:e.attributes.showCurrentPage}),(0,p.jsx)("span",{children:(0,a.__)("Include current page","cc-child-pages")})]}),!t.siblings&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({selectSpecificPages:t})},checked:e.attributes.selectSpecificPages}),(0,p.jsx)("span",{children:(0,a.__)("Only display selected pages","cc-child-pages")})]}),!t.selectSpecificPages&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(f,{multiple:!0,label:(0,a.__)("Select pages or posts","cc-child-pages"),selectedIds:(t.id||"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>parseInt(e,10)),onChangeMultiple:e=>l({id:e.join(",")})})}),t.selectSpecificPages&&(0,p.jsx)(f,{multiple:!0,label:(0,a.__)("Select pages or posts","cc-child-pages"),selectedIds:(t.pageIDs||"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>parseInt(e,10)),onChangeMultiple:e=>l({pageIDs:e.join(",")})})]}),(0,p.jsx)(f,{multiple:!0,label:(0,a.__)("Exclude","cc-child-pages"),help:(0,a.__)("Exclude specific pages or posts","cc-child-pages"),selectedIds:(t.exclude||"").split(",").map(e=>e.trim()).filter(Boolean).map(e=>parseInt(e,10)),onChangeMultiple:e=>l({exclude:e.join(",")})}),(0,p.jsx)(n.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Order by","cc-child-pages"),value:t.orderby||"menu_order",onChange:e=>l({orderby:e}),options:[{label:(0,a.__)("Menu order","cc-child-pages"),value:"menu_order"},{label:(0,a.__)("None","cc-child-pages"),value:"none"},{label:(0,a.__)("ID","cc-child-pages"),value:"ID"},{label:(0,a.__)("Author","cc-child-pages"),value:"author"},{label:(0,a.__)("Title","cc-child-pages"),value:"title"},{label:(0,a.__)("Name (slug)","cc-child-pages"),value:"name"},{label:(0,a.__)("Type","cc-child-pages"),value:"type"},{label:(0,a.__)("Date","cc-child-pages"),value:"date"},{label:(0,a.__)("Modified","cc-child-pages"),value:"modified"},{label:(0,a.__)("Parent ID","cc-child-pages"),value:"parent"},{label:(0,a.__)("Random","cc-child-pages"),value:"rand"},{label:(0,a.__)("Comment count","cc-child-pages"),value:"comment_count"},{label:(0,a.__)("Preserve post__in order","cc-child-pages"),value:"post__in"},{label:(0,a.__)("Preserve post_name__in order","cc-child-pages"),value:"post_name__in"},{label:(0,a.__)("Preserve post_parent__in order","cc-child-pages"),value:"post_parent__in"}],help:(0,a.__)("Default is “menu_order”. Some options only apply with certain queries.","cc-child-pages")}),(0,p.jsx)(n.RadioControl,{label:(0,a.__)("Order","cc-child-pages"),selected:t.order||"ASC",options:[{label:(0,a.__)("Ascending","cc-child-pages"),value:"ASC"},{label:(0,a.__)("Descending","cc-child-pages"),value:"DESC"}],onChange:e=>l({order:e}),className:"cccp-radio-inline"}),(0,p.jsx)(v,{value:t.postStatus||[],onChange:e=>l({postStatus:e}),allowAny:!0,label:(0,a.__)("Statuses","cc-child-pages"),help:(0,a.__)("Statuses to include when querying posts.","cc-child-pages")}),(0,p.jsx)(n.RangeControl,{label:(0,a.__)("Depth","cc-child-pages"),help:(0,a.__)("1 to 10 levels.","cc-child-pages"),value:o,onChange:e=>l({depth:String(e)}),min:1,max:10,step:1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"false"===t.list&&o>1&&(0,p.jsx)(n.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,a.__)("Sub-page title","cc-child-pages"),help:(0,a.__)("Optional title to be shown when sub-pages are listed for a page in card view.","cc-child-pages"),value:t.subpageTitle||"",onChange:e=>l({subpageTitle:(e||"").trim()})}),(0,p.jsx)(S,{__next40pxDefaultSize:!0,label:(0,a.__)("Offset","cc-child-pages"),value:null!==(r=t.offset)&&void 0!==r?r:void 0,onChange:e=>{""!==e&&null!=e?/^-?\d+$/.test(String(e))&&l({offset:parseInt(e,10)}):l({offset:void 0})},step:1,min:0}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({useLimit:t})},checked:e.attributes.useLimit}),(0,p.jsx)("span",{children:(0,a.__)("Limit number of results","cc-child-pages")})]}),t.useLimit&&(0,p.jsx)(n.RangeControl,{label:(0,a.__)("Limit page","cc-child-pages"),help:(0,a.__)("1 to 100.","cc-child-pages"),value:g,onChange:e=>l({limit:String(e)}),min:1,max:100,step:1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({ignoreStickyPosts:t})},checked:e.attributes.ignoreStickyPosts}),(0,p.jsx)("span",{children:(0,a.__)("Ignore sticky posts","cc-child-pages")})]}),(0,p.jsx)(D,{bubblesVirtually:!0})]}),(0,p.jsxs)(n.PanelBody,{title:(0,a.__)("Pagination","cc-child-pages"),children:[(0,p.jsxs)("div",{style:{display:"flex"},children:[(0,p.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,onChange:t=>{e.setAttributes({usePagination:t})},checked:e.attributes.usePagination}),(0,p.jsx)("span",{children:(0,a.__)("Use pagination","cc-child-pages")})]}),t.usePagination&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.RangeControl,{label:(0,a.__)("Posts per page","cc-child-pages"),help:(0,a.__)("1 to 50.","cc-child-pages"),value:d,onChange:e=>l({postsPerPage:String(e)}),min:1,max:50,step:1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,p.jsx)(S,{__next40pxDefaultSize:!0,label:(0,a.__)("Page","cc-child-pages"),value:null!==(u=t.page)&&void 0!==u?u:void 0,onChange:e=>{""!==e&&null!=e?/^-?\d+$/.test(String(e))&&l({page:parseInt(e,10)}):l({page:void 0})},step:1,min:1})]}),(0,p.jsx)(A,{bubblesVirtually:!0})]})]})}},t.uiTab||"design")})}),(0,p.jsx)("div",{...(0,i.useBlockProps)(),children:(0,p.jsx)(r(),{block:"caterhamcomputing/cc-child-pages",attributes:t,httpMethod:"POST",skipBlockSupportAttributes:!0},u)})]})}})}},l={};function s(e){var a=l[e];if(void 0!==a)return a.exports;var i=l[e]={exports:{}};return t[e](i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,l,a,i)=>{if(!l){var n=1/0;for(d=0;d<e.length;d++){for(var[l,a,i]=e[d],c=!0,o=0;o<l.length;o++)(!1&i||n>=i)&&Object.keys(s.O).every(e=>s.O[e](l[o]))?l.splice(o--,1):(c=!1,i<n&&(n=i));if(c){e.splice(d--,1);var r=a();void 0!==r&&(t=r)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,a,i]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={182:0,746:0};s.O.j=t=>0===e[t];var t=(t,l)=>{var a,i,[n,c,o]=l,r=0;if(n.some(t=>0!==e[t])){for(a in c)s.o(c,a)&&(s.m[a]=c[a]);if(o)var d=o(s)}for(t&&t(l);r<n.length;r++)i=n[r],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},l=globalThis.webpackChunkcc_child_pages=globalThis.webpackChunkcc_child_pages||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=s.O(void 0,[746],()=>s(910));a=s.O(a)})();